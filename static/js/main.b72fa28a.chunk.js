(this["webpackJsonpandom-joke"]=this["webpackJsonpandom-joke"]||[]).push([[0],{65:function(e,t,a){},69:function(e,t,a){"use strict";a.r(t);var c,r=a(1),n=a(0),i=a.n(n),s=a(14),o=a.n(s),l=a(32),d=a(7),j=a(35),u=function(){var e=Array.from({length:10},(function(e,t){return t}));return Object(r.jsx)("div",{className:"loader",children:Object(r.jsx)("div",{className:"loader__wrap",children:e.map((function(e){return Object(r.jsx)("div",{className:"loader__item"},e)}))})})},b=a(36),O=a(13),_=a.n(O),h=a(10),E=a.n(h);!function(e){e.RANDOM="RANDOM",e.CATEGORY="CATEGORY",e.SEARCH="SEARCH"}(c||(c={}));var v,g="https://api.chucknorris.io/jokes/";!function(e){e.SET_TYPE="SET_TYPE",e.SET_CATEGORIES="SET_CATEGORIES",e.SET_JOKE_CATEGORY="SET_JOKE_CATEGORY",e.SET_VALUE="SET_VALUE",e.ADD_JOKE="ADD_JOKE",e.ADD_JOKES="ADD_JOKES",e.LIKED="LIKED",e.UNLIKED="UNLIKED",e.SET_ALERT_TEXT="SET-ALERT-TEXT",e.CLEAR_ALERT_TEXT="CLEAR-ALERT-TEXT"}(v||(v={}));var p=function(e){return{type:v.SET_TYPE,typeJoke:e}},m=function(e){return{type:v.SET_ALERT_TEXT,alertText:e}},f=function(e){return{type:v.ADD_JOKE,data:e}},x=function(){var e=Object(d.b)(),t=Object(n.useState)(!1),a=Object(b.a)(t,2),i=a[0],s=a[1],o=Object(d.c)((function(e){return e.jokes})),l=function(){switch(o.typeJoke){case c.SEARCH:return _.a.get("".concat(g,"search?query=").concat(o.value)).then((function(t){e(function(e){return{type:v.ADD_JOKES,data:e}}(t.data.result))})).catch((function(t){return e(m(t.response.data.message))}));case c.CATEGORY:return _.a.get("".concat(g,"random?category=").concat(o.jokeCategory)).then((function(t){e(f(t.data))})).catch((function(t){return e(m(t.response.data.message))}));default:return _.a.get("".concat(g,"random")).then((function(t){e(f(t.data))})).catch((function(t){return e(m(t.response.data.message))}))}};return Object(n.useEffect)((function(){_.a.get("".concat(g,"categories")).then((function(t){var a;e((a=t.data,{type:v.SET_CATEGORIES,categories:a}))}))}),[]),Object(r.jsxs)("div",{className:"category-list",children:[Object(r.jsxs)("label",{htmlFor:"random",className:"category-list__label",children:[Object(r.jsx)(y,{id:"random",onChange:function(){return e(p(c.RANDOM))},checked:o.typeJoke===c.RANDOM}),"Random"]}),Object(r.jsxs)("label",{htmlFor:"category",className:"category-list__label",children:[Object(r.jsx)(y,{id:"category",onChange:function(){return e(p(c.CATEGORY))},checked:o.typeJoke===c.CATEGORY}),"From categories"]}),o.typeJoke===c.CATEGORY&&Object(r.jsx)("div",{className:"category-buttons",children:o.categories.map((function(t){return Object(r.jsx)(T,{className:E()("category-buttons__item",{"category-buttons__item--active":o.jokeCategory===t}),onClick:function(){var a;e((a=t,{type:v.SET_JOKE_CATEGORY,jokeCategory:a}))},children:t},t)}))}),Object(r.jsxs)("label",{htmlFor:"search",className:"category-list__label",children:[Object(r.jsx)(y,{id:"search",onChange:function(){return e(p(c.SEARCH))},checked:o.typeJoke===c.SEARCH}),"Search"]}),o.typeJoke===c.SEARCH&&Object(r.jsx)("div",{className:"category-list__input-wrap",children:Object(r.jsx)("input",{className:"category-list__input",placeholder:"Free text search...",type:"text",onChange:function(t){var a;e((a=t.target.value,{type:v.SET_VALUE,value:a}))},value:o.value})}),Object(r.jsx)("div",{children:Object(r.jsx)(T,{isDisabled:o.typeJoke===c.SEARCH&&!o.value.length||o.typeJoke===c.CATEGORY&&!o.jokeCategory.length,className:"category-list__button",onClick:function(){s(!0),l()},children:"Get a joke"})}),i&&!o.data.length&&Object(r.jsx)("div",{className:"category-list__empty",children:"Result not found"})]})},T=function(e){var t=e.onClick,a=e.className,c=void 0===a?"":a,n=e.children,i=void 0===n?null:n,s=e.isDisabled,o=void 0!==s&&s;return Object(r.jsx)("button",{type:"button",onClick:t,disabled:o,className:E()("button ".concat(c),{"button--disabled":o}),children:i})},y=function(e){var t=e.id,a=void 0===t?"":t,c=e.checked,n=void 0!==c&&c,i=e.onChange;return Object(r.jsxs)("div",{className:E()("radio",{"radio--active":n}),children:[Object(r.jsx)("input",{className:"radio__control",type:"radio",id:a,checked:n,onChange:i}),Object(r.jsx)("span",{className:"radio__background"})]})},k=function(e){var t=e.width,a=void 0===t?"100%":t,c=e.height,n=void 0===c?"100%":c,i=e.children,s=void 0===i?null:i,o=e.className,l=void 0===o?"":o,d=e.viewBox,j=void 0===d?"":d,u=e.fill,b=void 0===u?"transparent":u;return Object(r.jsx)("svg",{className:l,width:a,height:n,xmlns:"http://www.w3.org/2000/svg",viewBox:j,fill:b,children:s})},A=function(e){var t=e.isLike,a=void 0!==t&&t,c=e.className,n=void 0===c?"":c,i=e.width,s=void 0===i?"20":i,o=e.height,l=void 0===o?"17":o,d=e.viewBox,j=void 0===d?"0 0 20 17":d,u=e.fill,b=void 0===u?"#FF6767":u;return Object(r.jsx)(k,{className:n,viewBox:j,width:s,height:l,children:a?Object(r.jsx)("path",{fill:b,d:"M18.413 1.664C17.378.59 15.957 0 14.413 0a5.183 5.183 0 00-3.143 1.036c-.47.347-.895.772-1.27 1.268-.375-.496-.8-.92-1.27-1.268A5.182 5.182 0 005.586 0c-1.544 0-2.965.59-4 1.664C.563 2.724 0 4.172 0 5.743c0 1.616.63 3.095 1.984 4.655 1.21 1.396 2.95 2.812 4.965 4.453.688.56 1.468 1.195 2.278 1.871.214.18.488.278.773.278.285 0 .56-.099.773-.277.81-.677 1.59-1.312 2.278-1.873 2.015-1.64 3.755-3.056 4.966-4.452C19.37 8.838 20 7.358 20 5.742c0-1.57-.564-3.018-1.587-4.078z"}):Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("path",{fill:b,d:"M10 17c-.285 0-.56-.099-.773-.278-.808-.675-1.587-1.309-2.274-1.868l-.004-.003c-2.015-1.64-3.755-3.058-4.965-4.453C.63 8.838 0 7.358 0 5.743c0-1.57.564-3.02 1.587-4.08C2.622.592 4.043 0 5.587 0 6.742 0 7.8.349 8.73 1.036c.47.347.895.772 1.27 1.268.375-.496.8-.92 1.27-1.268A5.182 5.182 0 0114.414 0c1.544 0 2.965.59 4 1.664C19.438 2.724 20 4.172 20 5.743c0 1.616-.63 3.095-1.983 4.655-1.211 1.396-2.95 2.812-4.965 4.452-.689.56-1.47 1.196-2.279 1.873A1.206 1.206 0 0110 17zM5.587 1.12c-1.213 0-2.328.462-3.14 1.302-.822.853-1.276 2.032-1.276 3.32 0 1.36.53 2.575 1.715 3.942 1.145 1.32 2.85 2.708 4.823 4.315l.004.003c.69.561 1.471 1.198 2.285 1.878.82-.681 1.602-1.319 2.294-1.881 1.973-1.607 3.677-2.994 4.823-4.315 1.185-1.367 1.714-2.582 1.714-3.941 0-1.289-.454-2.468-1.277-3.32-.81-.841-1.926-1.304-3.139-1.304-.889 0-1.705.27-2.426.803-.642.474-1.09 1.074-1.352 1.494a.741.741 0 01-.635.345.741.741 0 01-.635-.345c-.262-.42-.71-1.02-1.352-1.494a4.002 4.002 0 00-2.426-.803z"})})})},N=function(e){var t=new Date(e);return"".concat(t.getDate()," ").concat(["January","February","March","April","May","June","July","August","September","October","November","December"][t.getMonth()]," ").concat(t.getFullYear()," ")},C=function(e){var t=e.url,a=e.id,c=e.value,n=e.icon_url,i=e.updated_at,s=e.categories,o=e.liked,l=e.className,j=Object(d.b)(),u=function(e){j(o?function(e){return{type:v.UNLIKED,jokeId:e}}(e):function(e){return{type:v.LIKED,jokeId:e}}(e))};return Object(r.jsxs)("div",{className:"card ".concat(l),children:[Object(r.jsx)("header",{className:"card__header",children:Object(r.jsx)("button",{className:"card__button",onClick:function(){u(a)},children:Object(r.jsx)(A,{isLike:o})})}),Object(r.jsxs)("div",{className:"card__body",children:[Object(r.jsx)("figure",{className:"card__icon-wrap",children:Object(r.jsx)("img",{className:"card__icon",src:n,alt:"icon"})}),Object(r.jsxs)("div",{className:"card__content-wrap",children:[Object(r.jsxs)("p",{className:"card__link-wrap",children:["ID:",Object(r.jsx)("a",{href:t,className:"card__link",rel:"noreferrer",target:"_blank",children:a})]}),Object(r.jsx)("p",{className:"card__content",children:c}),Object(r.jsxs)("footer",{className:"card__footer",children:[Object(r.jsxs)("p",{className:"card__date",children:["Last update: ",N(i)]}),Object(r.jsx)("div",{className:"card__category-wrap",children:!!s.length&&Object(r.jsx)(r.Fragment,{children:s.map((function(e){return Object(r.jsx)("p",{className:"card__category",children:e})}))})})]})]})]})]})},R=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.jokes.alertText}));return Object(n.useEffect)((function(){(null===t||void 0===t?void 0:t.length)&&setTimeout((function(){e({type:v.CLEAR_ALERT_TEXT})}),3e3)}),[t]),Object(r.jsx)(r.Fragment,{children:(null===t||void 0===t?void 0:t.length)&&Object(r.jsx)("div",{className:"alert",children:Object(r.jsx)("div",{className:"alert__grid",children:Object(r.jsx)("p",{className:"alert__text",children:t})})})})},S=function(){var e=Object(d.c)((function(e){return e.jokes}));return Object(r.jsxs)("div",{className:"page",children:[Object(r.jsxs)("div",{className:"page__wrap",children:[Object(r.jsx)("h1",{className:"page__title",children:"Hey!"}),Object(r.jsx)("h3",{className:"page__subtitle",children:"Let\u2019s try to find a joke for you:"}),Object(r.jsx)(x,{}),!!e.data.length&&e.data.map((function(e){var t=e.categories,a=e.created_at,c=e.icon_url,n=e.id,i=e.updated_at,s=e.url,o=e.value,l=e.liked,d=void 0!==l&&l;return Object(r.jsx)(C,{id:n,value:o,categories:t,created_at:a,icon_url:c,updated_at:i,url:s,liked:d},n)}))]}),!!e.favoriteList.length&&Object(r.jsxs)("div",{className:"page__wrap page__wrap--small",children:[Object(r.jsx)("h3",{className:"page__subtitle page__subtitle--grey",children:"Favorite"}),e.favoriteList.map((function(e){var t=e.categories,a=e.created_at,c=e.icon_url,n=e.id,i=e.updated_at,s=e.url,o=e.value;return Object(r.jsx)(C,{id:n,value:o,categories:t,created_at:a,icon_url:c,updated_at:i,url:s,liked:!0,className:"card--favorite"},"favorite-".concat(n))}))]})]})},D=(a(65),function(){return Object(r.jsx)("div",{className:"App",children:Object(r.jsx)(j.a,{children:Object(r.jsx)(S,{})})})}),L=a(8),J=a(22),w=a(34),I=a.n(w),K=a(37),G=a(3),Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{data:[],favoriteList:[],typeJoke:"RANDOM",categories:[],jokeCategory:"",value:"",alertText:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v.SET_TYPE:return Object(G.a)(Object(G.a)({},e),{},{typeJoke:t.typeJoke});case v.SET_CATEGORIES:return Object(G.a)(Object(G.a)({},e),{},{categories:t.categories});case v.SET_JOKE_CATEGORY:return Object(G.a)(Object(G.a)({},e),{},{jokeCategory:t.jokeCategory});case v.SET_VALUE:return Object(G.a)(Object(G.a)({},e),{},{value:t.value});case v.ADD_JOKE:return Object(G.a)(Object(G.a)({},e),{},{data:[t.data]});case v.ADD_JOKES:return Object(G.a)(Object(G.a)({},e),{},{data:t.data});case v.LIKED:return Object(G.a)(Object(G.a)({},e),{},{data:e.data.map((function(e){return e.id===t.jokeId?Object(G.a)(Object(G.a)({},e),{},{liked:!0}):e})),favoriteList:[].concat(Object(K.a)(e.favoriteList),[e.data.find((function(e){return e.id===t.jokeId}))])});case v.UNLIKED:return Object(G.a)(Object(G.a)({},e),{},{data:e.data.map((function(e){return e.id===t.jokeId?Object(G.a)(Object(G.a)({},e),{},{liked:!1}):e})),favoriteList:e.favoriteList.filter((function(e){return e.id!==t.jokeId}))});case v.SET_ALERT_TEXT:return Object(G.a)(Object(G.a)({},e),{},{alertText:t.alertText});case v.CLEAR_ALERT_TEXT:return Object(G.a)(Object(G.a)({},e),{},{alertText:""});default:return e}},F=Object(L.b)({jokes:Y}),M={key:"root",storage:I.a},H=Object(J.a)(M,F),U=Object(L.c)(H),X=Object(J.b)(U);o.a.render(Object(r.jsx)(i.a.StrictMode,{children:Object(r.jsx)(d.a,{store:U,children:Object(r.jsxs)(l.a,{loading:Object(r.jsx)(u,{}),persistor:X,children:[Object(r.jsx)(D,{}),Object(r.jsx)(R,{})]})})}),document.getElementById("root"))}},[[69,1,2]]]);
//# sourceMappingURL=main.b72fa28a.chunk.js.map